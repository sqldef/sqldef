# Tests for quote-aware mode (legacy_ignore_quotes: false) in SQLite3

ForeignKeyDependencyOrderingCaseMismatch:
  # SQLite3 treats Users and users as the same table (case-insensitive).
  # Dependency ordering should correctly recognize this and create
  # users first, then orders.
  legacy_ignore_quotes: false
  desired: |
    CREATE TABLE orders (
      id integer PRIMARY KEY,
      user_id integer,
      FOREIGN KEY (user_id) REFERENCES Users (id)
    );
    CREATE TABLE users (id integer PRIMARY KEY);
  output: |
    CREATE TABLE users (id integer PRIMARY KEY);
    CREATE TABLE orders (
      id integer PRIMARY KEY,
      user_id integer,
      FOREIGN KEY (user_id) REFERENCES Users (id)
    );
