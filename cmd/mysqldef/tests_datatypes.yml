BooleanValue:
  current: |
    CREATE TABLE bools (
      value1 boolean DEFAULT false,
      value2 boolean DEFAULT False,
      value3 boolean DEFAULT true,
      value4 boolean DEFAULT True,
      value5 TINYINT(1) DEFAULT 0,
      value6 TINYINT(1) DEFAULT 0,
      value7 TINYINT(1) DEFAULT 1,
      value8 TINYINT(1) DEFAULT 1
    );
  desired: |
    CREATE TABLE bools (
      value1 boolean DEFAULT false,
      value2 boolean DEFAULT False,
      value3 boolean DEFAULT true,
      value4 boolean DEFAULT True,
      value5 TINYINT(1) DEFAULT 0,
      value6 TINYINT(1) DEFAULT 0,
      value7 TINYINT(1) DEFAULT 1,
      value8 TINYINT(1) DEFAULT 1
    );
  output: |
AddColumnWithDefaultExpression:
  current: |
    CREATE TABLE users (id BIGINT PRIMARY KEY);
  desired: |
    CREATE TABLE users (
      id BIGINT PRIMARY KEY,
      friend_ids JSON DEFAULT(JSON_ARRAY())  
    );
  output: |
    ALTER TABLE `users` ADD COLUMN `friend_ids` json DEFAULT(JSON_ARRAY()) AFTER `id`;
  min_version: '8.0'
AddDefaultExpression:
  current: |
    CREATE TABLE users (
      id BIGINT PRIMARY KEY,
      friend_ids JSON
    );
  desired: |
    CREATE TABLE users (
      id BIGINT PRIMARY KEY,
      friend_ids JSON DEFAULT(JSON_ARRAY())
    );
  output: |
    ALTER TABLE `users` CHANGE COLUMN `friend_ids` `friend_ids` json DEFAULT(JSON_ARRAY());
  min_version: '8.0'
RemoveDefaultExpression:
  current: |
    CREATE TABLE users (
      id BIGINT PRIMARY KEY,
      friend_ids JSON DEFAULT(JSON_ARRAY())
    );
  desired: |
    CREATE TABLE users (
      id BIGINT PRIMARY KEY,
      friend_ids JSON
    );
  output: |
    ALTER TABLE `users` CHANGE COLUMN `friend_ids` `friend_ids` json;
  min_version: '8.0'
CollateOnColumn:
  desired: |
    create table users
    (
        id   int          not null,
        name varchar(255) not null
    ) COLLATE=utf8mb4_general_ci;
    create view user_view as
    select u.id as id,
           (u.name collate `utf8mb4_unicode_ci`) as name
    from mysqldef_test.users as u;
AutoIncrementNotNull:
  desired: |
    CREATE TABLE users1 (
      id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY
    );
    CREATE TABLE users2 (
      id BIGINT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY
    );
TypeAliases:
  desired: |
    CREATE TABLE users (
      charv character(40),
      varcharv character varying(40),
      intv integer
    );
Boolean:
  desired: |
    CREATE TABLE users (
      bool_flag BOOL,
      boolean_flag BOOLEAN
    );
DefaultNull:
  current: |
    CREATE TABLE users (
      id bigint(20) NOT NULL
    );
  desired: |
    CREATE TABLE users (
      id bigint(20) NOT NULL,
      name varchar(40) DEFAULT NULL
    );
  output: |
    ALTER TABLE `users` ADD COLUMN `name` varchar(40) DEFAULT null AFTER `id`;
AddNotNull:
  current: |
    CREATE TABLE users (
      name varchar(255) DEFAULT NULL
    );
  desired: |
    CREATE TABLE users (
      name varchar(255) NOT NULL
    );
  output: |
    ALTER TABLE `users` CHANGE COLUMN `name` `name` varchar(255) NOT NULL;
CreateTableAddColumnWithCharsetAndNotNull:
  current: |
    CREATE TABLE users (
      id bigint NOT NULL,
      PRIMARY KEY (id)
    );
  desired: |
    CREATE TABLE users (
      id bigint NOT NULL,
      name VARCHAR(20) CHARACTER SET ascii COLLATE ascii_bin NOT NULL,
      PRIMARY KEY (id)
    );
  output: |
    ALTER TABLE `users` ADD COLUMN `name` varchar(20) CHARACTER SET ascii COLLATE ascii_bin NOT NULL AFTER `id`;
OnUpdate:
  current: |
    CREATE TABLE users (
      name varchar(40),
      updated_at datetime DEFAULT current_timestamp ON UPDATE current_timestamp,
      created_at datetime NOT NULL
    );
  desired: |
    CREATE TABLE users (
      name varchar(40),
      updated_at datetime DEFAULT current_timestamp,
      created_at datetime NOT NULL
    );
  output: |
    ALTER TABLE `users` CHANGE COLUMN `updated_at` `updated_at` datetime DEFAULT current_timestamp;
OnUpdateAdd:
  current: |
    CREATE TABLE users (
      name varchar(40),
      updated_at datetime DEFAULT current_timestamp,
      created_at datetime NOT NULL
    );
  desired: |
    CREATE TABLE users (
      name varchar(40),
      updated_at datetime DEFAULT current_timestamp ON UPDATE current_timestamp,
      created_at datetime NOT NULL
    );
  output: |
    ALTER TABLE `users` CHANGE COLUMN `updated_at` `updated_at` datetime DEFAULT current_timestamp ON UPDATE current_timestamp;
OnUpdateParentheses:
  current: |
    CREATE TABLE users (
      name varchar(40),
      updated_at datetime DEFAULT current_timestamp ON UPDATE current_timestamp,
      created_at datetime NOT NULL
    );
  desired: |
    CREATE TABLE users (
      name varchar(40),
      updated_at datetime DEFAULT current_timestamp() ON UPDATE current_timestamp(),
      created_at datetime NOT NULL
    );
  output: ""
CurrentTimestampWithPrecision:
  current: |
    CREATE TABLE users (
      created_at datetime(6) DEFAULT current_timestamp(6)
    );
  desired: |
    CREATE TABLE users (
      created_at datetime(6) DEFAULT current_timestamp(6),
      updated_at datetime(6) DEFAULT current_timestamp(6) ON UPDATE current_timestamp(6)
    );
  output: |
    ALTER TABLE `users` ADD COLUMN `updated_at` datetime(6) DEFAULT current_timestamp(6) ON UPDATE current_timestamp(6) AFTER `created_at`;
EnumValues:
  current: |
    CREATE TABLE users (
      id bigint(20) NOT NULL
    );
  desired: |
    CREATE TABLE users (
      id bigint(20) NOT NULL,
      authorities enum('normal', 'admin') NOT NULL DEFAULT 'normal'
    );
  output: |
    ALTER TABLE `users` ADD COLUMN `authorities` enum('normal', 'admin') NOT NULL DEFAULT 'normal' AFTER `id`;
DefaultValue:
  current: |
    CREATE TABLE tools (
      id int(10) unsigned NOT NULL AUTO_INCREMENT,
      name varchar(255) COLLATE utf8mb4_bin NOT NULL,
      created_at datetime NOT NULL,
      updated_at datetime NOT NULL,
      PRIMARY KEY (id)
    );
  desired: |
    CREATE TABLE tools (
      id int(10) unsigned NOT NULL AUTO_INCREMENT,
      name varchar(255) COLLATE utf8mb4_bin NOT NULL,
      created_at datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
      updated_at datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
      PRIMARY KEY (id)
    );
  output: |
    ALTER TABLE `tools` CHANGE COLUMN `created_at` `created_at` datetime NOT NULL DEFAULT current_timestamp;
    ALTER TABLE `tools` CHANGE COLUMN `updated_at` `updated_at` datetime NOT NULL DEFAULT current_timestamp ON UPDATE current_timestamp;
NegativeDefault:
  current: |
    CREATE TABLE items (
      position float DEFAULT -20
    );
  desired: |
    CREATE TABLE items (
      position float DEFAULT 100
    );
  output: |
    ALTER TABLE `items` CHANGE COLUMN `position` `position` float DEFAULT 100;
DecimalDefault:
  desired: |
    CREATE TABLE some_table (
      some_value decimal(5, 2) DEFAULT 0.0
    );
