# yaml-language-server: $schema=../../testutil/testcase.schema.json

CreateTableRemoveAutoIncrement57:
  current: |
    CREATE TABLE users (
      id bigint(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,
      name varchar(20)
    );
  desired: |
    CREATE TABLE users (
      id bigint(20) NOT NULL PRIMARY KEY,
      name varchar(20)
    );
  up: |
    ALTER TABLE `users` CHANGE COLUMN `id` `id` bigint(20) NOT NULL;
  down: |
    ALTER TABLE `users` CHANGE COLUMN `id` `id` bigint(20) NOT NULL AUTO_INCREMENT;
  max_version: '5.7'
CreateTableAddAutoIncrement57:
  current: |
    CREATE TABLE users (
      id bigint(20) NOT NULL PRIMARY KEY,
      name varchar(20)
    );
  desired: |
    CREATE TABLE users (
      id bigint(20) NOT NULL AUTO_INCREMENT PRIMARY KEY,
      name varchar(20)
    );
  up: |
    ALTER TABLE `users` CHANGE COLUMN `id` `id` bigint(20) NOT NULL AUTO_INCREMENT;
  down: |
    ALTER TABLE `users` CHANGE COLUMN `id` `id` bigint(20) NOT NULL;
  max_version: '5.7'
CreateTableRemoveAutoIncrementPrimaryKey57:
  current: |
    CREATE TABLE friends (
      id bigint NOT NULL AUTO_INCREMENT PRIMARY KEY,
      created_at datetime NOT NULL
    );
  desired: |
    CREATE TABLE friends (
      created_at datetime NOT NULL
    );
  up: |
    ALTER TABLE `friends` CHANGE COLUMN `id` `id` bigint(20) NOT NULL;
    ALTER TABLE `friends` DROP PRIMARY KEY;
    ALTER TABLE `friends` DROP COLUMN `id`;
  down: |
    ALTER TABLE `friends` ADD COLUMN `id` bigint NOT NULL FIRST;
    ALTER TABLE `friends` ADD PRIMARY KEY (`id`);
    ALTER TABLE `friends` CHANGE COLUMN `id` `id` bigint NOT NULL AUTO_INCREMENT;
  max_version: '5.7'
CreateTableAddAutoIncrementPrimaryKey57:
  current: |
    CREATE TABLE users (
      name varchar(20)
    );
  desired: |
    CREATE TABLE users (
      id bigint NOT NULL AUTO_INCREMENT,
      name varchar(20),
      PRIMARY KEY (id)
    );
  up: |
    ALTER TABLE `users` ADD COLUMN `id` bigint NOT NULL FIRST;
    ALTER TABLE `users` ADD PRIMARY KEY (`id`);
    ALTER TABLE `users` CHANGE COLUMN `id` `id` bigint NOT NULL AUTO_INCREMENT;
  down: |
    ALTER TABLE `users` CHANGE COLUMN `id` `id` bigint(20) NOT NULL;
    ALTER TABLE `users` DROP PRIMARY KEY;
    ALTER TABLE `users` DROP COLUMN `id`;
  max_version: '5.7'
